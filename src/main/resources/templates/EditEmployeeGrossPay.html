<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Edit Employee GrossPay</title>
		<link rel="icon" th:href="@{/dist/images/Dextero_Icon.ico}" type="image/x-icon" />
        <link th:href="@{https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700}" rel="stylesheet" />
        <link rel="stylesheet" th:href="@{/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css}"/>
        <link rel="stylesheet" th:href="@{/plugins/datatables-responsive/css/responsive.bootstrap4.min.css}" />
        <link rel="stylesheet" th:href="@{/dist/css/dextero.css}">
        <link rel="stylesheet" th:href="@{/dist/css/all.css}">

        <script th:src="@{/plugins/jquery/jquery.min.js}"></script>
        <script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
        <script th:src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
        <script th:src="@{/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js}"></script>
        <script th:src="@{/plugins/datatables-responsive/js/dataTables.responsive.min.js}"></script>
        <script th:src="@{/plugins/datatables-responsive/js/responsive.bootstrap4.min.js}"></script>
        <script th:src="@{/dist/js/dextero.js}"></script>
        <script th:src="@{/dist/js/all.js}"></script>

</head>

	<body class="hold-transition sidebar-mini layout-fixed">
		<header th:include="header::header1"></header> 
		<div class="content-wrapper">
	        <section class="content-header">
	            <div class="container-fluid">
	                <div class="row">
	                    <div class="col-lg-12">
	                        <div class="card-header text-center pb-2 d-bg-h2 ">
	                            <lable id="label" class="h2 font-weight-bold">Edit Employee GrossPay</lable>
	                        </div>
	                        <div class="card card-box-new tech-x-card-2 mt-5">
	                            <div class="card-body">
	                            	<div th:object="${companygrosspay}">
	                            		<input type="hidden" th:field="*{basic}" id="company_basic" name="company_basic">
	                            		<input type="hidden" th:field="*{da}" id="company_da" name="company_da">
	                            		<input type="hidden" th:field="*{hra}" id="company_hra" name="company_hra">
	                            		<input type="hidden" th:field="*{travel_allowance}" id="company_travel_allowance" name="company_travel_allowance">
	                            		<input type="hidden" th:field="*{special_allowance}" id="company_special_allowance" name="company_special_allowance">
	                            		<input type="hidden" th:field="*{project_allowance}" id="company_project_allowance" name="company_project_allowance">
	                            		<input type="hidden" th:field="*{project_travel}" id="company_project_travel" name="company_project_travel">
	                            		<input type="hidden" th:field="*{conveyance_allowance}" id="company_conveyance_allowance" name="company_conveyance_allowance">
	                            		<input type="hidden" th:field="*{medical_allowance}" id="company_medical_allowance" name="company_medical_allowance">
	                            		<input type="hidden" th:field="*{dearness_allowance}" id="company_dearness_allowance" name="company_dearness_allowance">
	                            		<input type="hidden" th:field="*{other_allowance}" id="company_other_allowance" name="company_other_allowance">
	                            	</div>
	                            	<div th:object="${deduction}">
	                            		<input type="hidden" th:field="*{employee_PF}" id="company_employee_pf" name="company_employee_pf">
	                            		<input type="hidden" th:field="*{employee_Professional_Tax}" id="company_employee_tax" name="company_employee_tax">
	                            		<input type="hidden" th:field="*{employee_TDS}" id="company_employee_tds" name="company_employee_tds">
	                            		<input type="hidden" th:field="*{employee_ESI}" id="company_employee_esi" name="company_employee_esi">
	                            		<input type="hidden" th:field="*{employee_Gratuity}" id="company_employee_gratuity" name="company_employee_gratuity">
	                            		<input type="hidden" th:field="*{employee_Loan_Recovery}" id="company_employee_loan_recovery" name="company_employee_loan_recovery">
	                            		
	                            		<input type="hidden" th:field="*{employer_PF}" id="company_employer_pf" name="company_employer_pf">
	                            		<input type="hidden" th:field="*{employer_Professional_Tax}" id="company_employer_tax" name="company_employer_tax">
	                            		<input type="hidden" th:field="*{employer_TDS}" id="company_employer_tds" name="company_employer_tds">
	                            		<input type="hidden" th:field="*{employer_ESI}" id="company_employer_esi" name="company_employer_esi">
	                            		<input type="hidden" th:field="*{employer_Gratuity}" id="company_employer_gratuity" name="company_employer_gratuity">
	                            		<input type="hidden" th:field="*{employer_Loan_Recovery}" id="company_employer_loan_recovery" name="company_employer_loan_recovery">
	                            		
	                            		
	                            	</div>
	                                <form action="#" th:action="@{/save/employeegrosspay}" th:object="${grossPay}" method="POST" autocomplete="off">
	                                	<input type="hidden" th:field="*{empId}" id="emp_id">
	                                	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Basic :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{basic}" id="basic" name="basic">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">DA :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{da}" id="da" name="da">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">HRA :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{hra}" id="hra" name="hra">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Travel Allowance :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{travel_allowance}" id="travel_allowance" name="travel_allowance">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Special Allowance :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{special_allowance}" id="special_allowance" name="special_allowance">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Project Allowance :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{project_allowance}" id="project_allowance" name="project_allowance">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Project Travel :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{project_travel}" id="project_travel" name="project_travel">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Conveyance Allowance :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{conveyance_allowance}" id="conveyance_allowance" name="conveyance_allowance">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Medical Allowance :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{medical_allowance}" id="medical_allowance" name="medical_allowance">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Dearness Allowance :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{dearness_allowance}" id="dearness_allowance" name="dearness_allowance">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Other Allowance :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{other_allowance}" id="other_allowance" name="other_allowance">
	                                        </div>
                                    	</div>
                                    	                	
                                        <div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Employee PF :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{Employee_PF}" id="employee_pf" name="employee_pf">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Employee Professional Tax :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                        	<input type="text" class="form-control input-anime" th:field="*{Employee_Professional_Tax}" id="employee_tax" name="employee_tax">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Employee TDS :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{Employee_TDS}" id="employee_tds" name="employee_tds">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Employee ESIC :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{Employee_ESI}" id="employee_esi" name="employee_esi">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Employee Gratuity :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{Employee_Gratuity}" id="employee_gratuity" name="employee_gratuity">
	                                        </div>
                                    	</div>
                                    	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-3">
	                                            <label class="d-label">Employee Loan Recovery :</label>
	                                        </div>
	                                        <div class="col-sm-6 col-md-4 col-lg-2">
	                                            <input type="text" class="form-control input-anime" th:field="*{Employee_Loan_Recovery}" id="employee_loan_recovery" name="employee_loan_recovery">
	                                        </div>
                                    	</div>
                                    	
	                                    <input type="hidden" class="form-control input-anime" th:field="*{Employer_PF}" id="employer_pf" name="employer_pf">
	                                    <input type="hidden" class="form-control input-anime" th:field="*{Employer_Professional_Tax}" id="employer_tax" name="employer_tax">
	                                    <input type="hidden" class="form-control input-anime" th:field="*{Employer_TDS}" id="employer_tds" name="employer_tds">  
	                                    <input type="hidden" class="form-control input-anime" th:field="*{Employer_ESI}" id="employer_esi" name="employer_esi">
	                                    <input type="hidden" class="form-control input-anime" th:field="*{Employer_Gratuity}" id="employer_gratuity" name="employer_gratuity">
	                                   	<input type="hidden" class="form-control input-anime" th:field="*{Employer_Loan_Recovery}" id="employer_loan_recovery" name="employer_loan_recovery">
	                                     
	                                	<div class="row mt-4">
	                                        <div class="col-sm-4 col-md-4 col-lg-2">
	                                            <button type="submit" class="btn btn-info ">Save</button>
	                                        </div> 
	                                     </div> 
	                                                                              
	                                </form> 
	                        	</div>
	                    	</div>
	                	</div>
	            	</div>  
	        	</div>          
			</section>
		</div>
	</body>
	<script type="text/javascript">
	$(document).ready(function () {
	//alert($('#company_basic').val());
	  if ($('#company_basic').val() == 'true') {
	    $("#basic").attr("readonly", false);
	  } else {
	    $("#basic").attr("readonly", true);
	  }
	  
	  if ($('#company_da').val() == 'true') {
	    $("#da").attr("readonly", false);
	  } else {
	    $("#da").attr("readonly", true);
	  }
	  
	  if ($('#company_hra').val() == 'true') {
	    $("#hra").attr("readonly", false);
	  } else {
	    $("#hra").attr("readonly", true);
	  }
	  
	  if ($('#company_travel_allowance').val() == 'true') {
	    $("#travel_allowance").attr("readonly", false);
	  } else {
	    $("#travel_allowance").attr("readonly", true);
	  }
	  
	  if ($('#company_special_allowance').val() == 'true') {
	    $("#special_allowance").attr("readonly", false);
	  } else {
	    $("#special_allowance").attr("readonly", true);
	  }
	  
	  if ($('#company_project_allowance').val() == 'true') {
	    $("#project_allowance").attr("readonly", false);
	  } else {
	    $("#project_allowance").attr("readonly", true);
	  }
	  
	  if ($('#company_project_travel').val() == 'true') {
	    $("#project_travel").attr("readonly", false);
	  } else {
	    $("#project_travel").attr("readonly", true);
	  }
	  
	  if ($('#company_conveyance_allowance').val() == 'true') {
	    $("#conveyance_allowance").attr("readonly", false);
	  } else {
	    $("#conveyance_allowance").attr("readonly", true);
	  }
	  
	  if ($('#company_medical_allowance').val() == 'true') {
	    $("#medical_allowance").attr("readonly", false);
	  } else {
	    $("#medical_allowance").attr("readonly", true);
	  }
	  
	  if ($('#company_dearness_allowance').val() == 'true') {
	    $("#dearness_allowance").attr("readonly", false);
	  } else {
	    $("#dearness_allowance").attr("readonly", true);
	  }
	  
	  if ($('#company_other_allowance').val() == 'true') {
	    $("#other_allowance").attr("readonly", false);
	  } else {
	    $("#other_allowance").attr("readonly", true);
	  }
	  
	  if ($('#company_employee_pf').val() == 'true') {
	    $("#employee_pf").attr("readonly", false);
	  } else {
	    $("#employee_pf").attr("readonly", true);
	  }
	  
	  if ($('#company_employee_tax').val() == 'true') {
	    $("#employee_tax").attr("readonly", false);
	  } else {
	    $("#employee_tax").attr("readonly", true);
	  }
	  
	  if ($('#company_employee_tds').val() == 'true') {
	    $("#employee_tds").attr("readonly", false);
	  } else {
	    $("#employee_tds").attr("readonly", true);
	  }
	  
	  if ($('#company_employee_esi').val() == 'true') {
	    $("#employee_esi").attr("readonly", false);
	  } else {
	    $("#employee_esi").attr("readonly", true);
	  }
	  
	  if ($('#company_employee_gratuity').val() == 'true') {
	    $("#employee_gratuity").attr("readonly", false);
	  } else {
	    $("#employee_gratuity").attr("readonly", true);
	  }
	  
	  if ($('#company_employee_loan_recovery').val() == 'true') {
	    $("#employee_loan_recovery").attr("readonly", false);
	  } else {
	    $("#employee_loan_recovery").attr("readonly", true);
	  }
	  
	  if ($('#company_employer_pf').val() == 'true') {
	    $("#employer_pf").attr("readonly", false);
	  } else {
	    $("#employer_pf").attr("readonly", true);
	  }
	  
	  if ($('#company_employer_tax').val() == 'true') {
	    $("#employer_tax").attr("readonly", false);
	  } else {
	    $("#employer_tax").attr("readonly", true);
	  }
	  
	  if ($('#company_employer_tds').val() == 'true') {
	    $("#employer_tds").attr("readonly", false);
	  } else {
	    $("#employer_tds").attr("readonly", true);
	  }
	  
	  if ($('#company_employer_esi').val() == 'true') {
	    $("#employer_esi").attr("readonly", false);
	  } else {
	    $("#employer_esi").attr("readonly", true);
	  }
	  
	  if ($('#company_employer_gratuity').val() == 'true') {
	    $("#employer_gratuity").attr("readonly", false);
	  } else {
	    $("#employer_gratuity").attr("readonly", true);
	  }
	  
	  if ($('#company_employer_loan_recovery').val() == 'true') {
	    $("#employer_loan_recovery").attr("readonly", false);
	  } else {
	    $("#employer_loan_recovery").attr("readonly", true);
	  }
	});
	</script>
	<script type="text/javascript">
			$(function(){
				$("#basic,#dearness_allowance").change(function(){
					var basic =parseInt( $('#basic').val()) + parseInt($('#dearness_allowance').val());
					$.ajax({
						url:"[[@{/getEmployee_PF}]]",
						data:{
							basic_sal: basic
						},
						success:function(data){
							$('#employee_pf').val(parseInt(data)*parseInt(basic)/100);
							//alert(data);
						}
					});
				});	
				$("#basic,#dearness_allowance").change(function(){
					var basic =parseInt( $('#basic').val()) + parseInt($('#dearness_allowance').val());
					$.ajax({
						url:"[[@{/getEmployer_PF}]]",
						data:{
							basic_sal: basic
						},
						success:function(data){
							$('#employer_pf').val(parseInt(data)*parseInt(basic)/100);
							//alert(basic);
						}
					});
				});	
			});
			
			$(function(){
				$("#basic,#dearness_allowance").change(function(){
					var basic =parseInt( $('#basic').val()) + parseInt($('#dearness_allowance').val());
					//alert(basic);
					var emp_id =  $('#emp_id').val();
					$.ajax({
						url:"[[@{/getProfessional_Tax1}]]",
						data:{
							basic_sal: basic,
							empID: emp_id
						},
						success:function(data){
							$('#employee_tax').val(parseInt(data));
							//alert(data)
						}
					});
				});	
				
			});	
			
			$(function(){
				$("#basic,#dearness_allowance").change(function(){
					var basic =parseInt( $('#basic').val()) + parseInt($('#dearness_allowance').val());
					var emp_id =  $('#emp_id').val();
					$.ajax({
						url:"[[@{/getEmployee_ESI}]]",
						data:{
							basic_sal: basic,
							empID: emp_id
						},
						success:function(data){
							$('#employee_esi').val(parseFloat(data)*parseFloat(basic)/100);
							//alert(basic)
						}
					});
				});	
				
				$("#basic,#dearness_allowance").change(function(){
					var basic =parseInt( $('#basic').val()) + parseInt($('#dearness_allowance').val());
					var emp_id =  $('#emp_id').val();
					$.ajax({
						url:"[[@{/getEmployer_ESI}]]",
						data:{
							basic_sal: basic,
							empID: emp_id
						},
						success:function(data){
							$('#employer_esi').val(parseFloat(data)*parseFloat(basic)/100);
							//alert(basic)
						}
					});
				});	
				
				
				$("#basic,#dearness_allowance").change(function(){
					var basic =parseInt( $('#basic').val()) + parseInt($('#dearness_allowance').val());
					$.ajax({
						url:"[[@{/getGratuity}]]",
						data:{
							basic_sal: basic
						},
						success:function(data){
							$('#employee_gratuity').val(parseFloat(data)*parseFloat(basic)/100);
							//alert(basic)
						}
					});
				});	
			});	
			
			
		</script>
</html>