<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>TimeSheet Summary Report</title>
    	<link rel="icon" th:href="@{/dist/images/Dextero_Icon.ico}" type="image/x-icon" />
        <link th:href="@{https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700}" rel="stylesheet" />
        <link rel="stylesheet" th:href="@{/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css}"/>
        <link rel="stylesheet" th:href="@{/plugins/datatables-responsive/css/responsive.bootstrap4.min.css}" />
        <link rel="stylesheet" th:href="@{/dist/css/dextero.css}">
        <link rel="stylesheet" th:href="@{/dist/css/all.css}">

        <script th:src="@{/plugins/jquery/jquery.min.js}"></script>
        <script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
        <script th:src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
        <script th:src="@{/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js}"></script>
        <script th:src="@{/plugins/datatables-responsive/js/dataTables.responsive.min.js}"></script>
        <script th:src="@{/plugins/datatables-responsive/js/responsive.bootstrap4.min.js}"></script>
        <script th:src="@{/dist/js/dextero.js}"></script>
        <script th:src="@{/dist/js/all.js}"></script>

		      <!-- date -->
		<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<!--Export table button CSS-->
		<script src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js"></script>
		<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.flash.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
		<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js"></script>
		<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.print.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"></script>

</head>
	<body class="hold-transition sidebar-mini layout-fixed">
	    <header th:include="header::header1"></header> 
	    <div class="content-wrapper">
	        <section class="content-header">
	            <div class="container-fluid">
	                <div class="row">
	                    <div class="col-lg-12">
	                        <div class="card-header text-center pb-2 d-bg-h2 ">
	                            <lable id="label" class="h2 font-weight-bold">TimeSheet Summary Report</lable>
	                        </div>
	                         <div class="card card-box-new tech-x-card-2 mt-5">
	                            <div class="card-body">
	                              	<div class="table-responsive">
	                                	<table id="data-table" border="1" class="table table-bordered mt-4">
	                                    	<thead>
	                                        	<tr>
	                                            	<!-- <th class="text-center">SR.NO.</th> -->
	                                            	<th class="text-center">Employee Name</th>
	                                            	<th class="text-center">Start Date</th>
	                                            	<th class="text-center">End Date</th>
	                                            	<th class="text-center">Total Hours</th>
	                                            	<th class="text-center">Completed Hours</th>
	                                            	<th class="text-center">Balance Hours</th>
	                                            	<th class="text-center">OverTime</th>
	                                            	<!-- <th class="text-center">Edit</th>
	                                            	<th class="text-center">Delete</th> -->
	                                        	</tr>
	                                    	</thead>
	                                    	<tbody>
	                                        	<tr th:each="timeReport:${tReportList}" th:if="${timeReport.company_id}==${CompanyID}">
	                                            	<!-- <td class="text-center" th:text="${timeReport.id}"></td> -->
	                                            	<td class="text-center" th:each="e:${EmployeeList}" th:if="${e.id}==${timeReport.employee_id}" th:text="${e.firstname} + ' ' + ${e.lastname}"></td>
	                                            	<td class="text-center" th:text="${timeReport.startdate}"></td>
	                                            	<td class="text-center" th:text="${timeReport.enddate}"></td>
	                                            	<td class="text-center" th:text="${timeReport.totalhours}"></td>
	                                            	<td class="text-center" th:text="${timeReport.workedhours}"></td>
	                                            	<td class="text-center" th:text="${timeReport.remaininghours}"></td>
	                                            	<td class="text-center" th:text="${timeReport.overtime}"></td>
	                                            	
	                                            	<!-- <td class="text-center"><a th:href="@{/EditForm/{id}(id=${timeReport.id})}"><i class="fa-solid fa-pencil text-success"></i></a></td>
	                                            	<td class="text-center"><a th:href="@{/deleteForm/{id}(id=${timeReport.id})}"><i class="fa-solid fa-trash text-danger"></i></a></td> -->
	                                        	</tr>
	                                    	</tbody>
	                                	</table>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </section>
	    </div>
	    <script>
	    	$(document).ready(function() {
				  $('#data-table').DataTable( {
				  	order: [1, 'desc'], // Order by the first column (date) in ascending order
				    columnDefs: [
				      {
				        targets: 1,
				        type: 'date-eu', // Set the column type to 'date-eu' for initial sorting
				        render: function(data, type, row) {
				          if (type === 'sort') {
				            // Parse the date using moment.js
				            var momentDate = moment(data, 'DD-MM-YYYY');
				            // Return the parsed date as a sortable value
				            return momentDate.isValid() ? momentDate.format('YYYYMMDD') : '';
				          }
				          return data;
				        }
				      }
				    ]
		           });
		       });
	    </script>
	</body>
</html>